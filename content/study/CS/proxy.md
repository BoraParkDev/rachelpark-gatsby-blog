---
emoji:
title: Proxy
date: '2022-02-12 23:54:37'
author: Rachel
tags: Study CS
categories: CS
---

프록시

프록시란 클라이언트와 서버를 연결해주는 중간다리 역할을 하는 곳이다. 클라이언트의 모든 HTTP 요청을 받아 서버에 전달한다. 즉, 클라우드의 요청이 곧바로 서버에 전달되는 것이 아닌, 서버의 내용을 캐시형태로 저장하고 있는 프록시에서 전달받는 것이다.

내가 보낸 모든 요청을 한 번 걸러서 마치 내가 보낸 것이 아닌 서버가 보낸것처럼 웹사이트에 전달하는 것

예를 들어 내가 1.0.0.0 ip를 가지고 2.0.0.0의 주소를 가진 프록시에게 웹 사이트에 대신 정보전달을 해달라고 요청을 보낸다. 그리고 답이 오면 프록시에게서 정보를 전달을 받는다. 프록시에서 요청을 보낸 사이트는 1.0.0.0 ip 주소에 대한 방문 기록이 전혀 없고, 로그는 프록시서버의 ip 주소만 수집이 되는 것이다.

[그림 1-1] 프록시 서버와 웹 사이트의 연결

이런식으로 프록시는 현재 개인의 ip를 숨기거나, 우회하기 위해서 사용되는데(보안 목적),

원래의 목적은 ​"속도"을 개선시키기 위한 니즈를 해소하기 위해서 나온 개념이다.

여러 대의 네트워크가 하나의 프록시 서버를 공유하고 있다고 가정해보자. 한 컴퓨터에서 네이버에 접속한 경험이 있다. 그러면 프록시서버에서 캐시데이터를 저장함으로써 속도가 아주 빨라지는 방식이였다. 그런데 인터넷 속도가 점차 빨라지면서 이렇게 하는게 의미가 없어졌고, 시스템 은닉목적으로 변질이 된 것이다.

다시 정리하자면, 프록시의 본 목적은 "웹 서버에서 가져온 데이터를 사용자에게 전송하고 나서 캐시에 데이터를 저장해 두었다가 사용자가 똑같은 데이터를 요청하면, 그 때 자신의 캐시에서(웹 서버가 아닌) 해당 데이터를 보내줌으로써 빠르게 사용자에게 필요한 내용을 보내는 것이다."

​

그런데, 이러한 프록시에도 종류가 있다. 우리가 흔히 알고 있는 프록시는 "포워드(forward) 프록시"이고, "역방향(reverse) 프록시"도 존재한다.

1. 정방향 프록시(Forward Proxy)

[그림 1-2] 정방향 프록시(forward proxy)

일반적으로 알려진 프록시. 클라이언트의 요청은 서버로 직접하는 것이 아닌 프록시 서버에 요청하고, 프록시 서버는 요청을 웹 서버에 요청한다. 데이터를 수신할 때도 웹 서버에서 다이렉트로 수신받는 것이 아닌, 프록시 서버에서 수신한다.

포워드 프록시는 클라이언트가 요청한 내용을 캐싱하여 전송 시간을 절약하고, 불필요한 외부 전송을 없애서 결과적으로는 외부 요청을 줄일 수 가 있다.(네트워크 병목 현상1) 방지)

ex) 인터넷 속도를 향상 시키기 위해서 윈도우에서 프록시 설정을 해라.

     외국에서 접속하는 것처럼 테스트하기 위해 프록시 설정을 해라

     개인정보를 빼돌린 해커가 IP 추적 방지를 위해 프록시를 썼다.

​

2. 역방향 프록시(Reverse Proxy)

[그림 1-3] 역방향 프록시(reverse proxy)

프록시 서버를 구축할 때 사용하는 방식이라고 한다..!👀

다른서버의 정보를 프록시를 통해 받아오는 방식인데, 포워드 프록시와의 차이점은 엔드포인트의 최종 목적지가 웹 서버가 아닌, 프록시 서버라는 것이다! 로드밸런싱(분산처리)2)이나 보안상의 이유로 사용되는데, 리버스 프록시의 back단에 여러개의 서비스 서버를 설치하고, 사용자의 요청을 리버스 프록시를 통해 분산해서 요청할 때 유용하게 사용된다. 즉, 보안상의 이유로 내부망에 있는 서버들에 직접 접근하지 못하게 할 때도 유용하게 사용된다.

[그림 1-4] 포워드 프록시는 클라이언트와 인터넷 사이에 위치, 리버스 프록시는 인터넷과 서버사이에 위치

​

✔️ 장점 정리

● 캐시

- 클라이언트가 요청한 내용을 캐싱하여 빠른 속도로 처리한다.

- 자주 사용하는 동일한 요청을 캐싱해서 재활용한다. → 속도 및 성능 개선

● 보안

- 클라이언트는 리버스 프록시가 실제 서버라고 생각하고 요청을 하므로 실제 서버의 IP가 노출되지 않는다.

● 트래픽 분산

- 로드밸런싱/ 요청을 나눠준다.

- 서버의 트래픽을 분산시켜 준다. 또한, 엔드포인트마다 호출하는 서버를 다르게 해서(L7) 각 역할에 따라 서버를 분산시킬 수도 있다.

​

✔️ 프록시로 직접 서버 구축하기

https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=powerlinedd&logNo=221772920341

Chapter 17\_프록시 서버 설치와 운영
대다수 컴퓨터 사용자가 주로 웹을 사용하면서 시간을 보낸다. 그런데 네트워크라는 것은 항상 안정적인 것...

m.blog.naver.com

mac : https://hevton.tistory.com/37

[Mac OS/Proxy] 프록시 툴 Burp Suite 설치 방법
프록시 서버는 프록시를 수행해줍니다. 그럼 프록시가 무엇이냐. 나를 대신해서 간접적으로 통신해주는 작업을 말합니다. 즉 프록시 서버는 중계자의 역할을 해주는 것 입니다. 클라이언트가 서버와 통신을 할 때..

hevton.tistory.com

#각주

1. 네트워크 병목 현상 : 네트워크 병목 현상은 네트워크가 포화 상태이거나 갑자기 데이터의 양이 폭발적으로 증가할 경우 혹은 서버의 네트워크에 문제가 발생한 경우 데이터를 송수신하는 서버의 성능에 영향을 미치는 현상을 말한다.

\*병목현상 : 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상

2. 로드밸런싱 : 서버의 부하를 분산하는 작업. "scale out"이라고도 표현하는데, 여러 대의 서버가 분산(나누어) 처리할 수 있도록 요청을 나누는 작업이다. (이 나누는 방식에 대한 여러가지 알고리즘이 있다고 한다.)

​

#참고자료 :

https://velog.io/@syoung125/%EA%B0%9C%EB%85%90%EA%B3%B5%EB%B6%80-%ED%94%84%EB%A1%9D%EC%8B%9Cproxy-%EC%84%9C%EB%B2%84%EB%9E%80

[HTTP] 프록시(proxy) 서버란?
프록시라는 단어는 네트워크 환경설정을 할 때 등 많이 들어본 익숙한 단어이다.하지만 개념은 제대로 알고 있지 못해서 이번 기회에 프록시가 무엇인지와 사용목적에 대해 알아보았다!프록시는 간단히 말해 클라이언트와 서버 사이의 중개인이다. 프록시는 클라이언트와 서버 중간에

velog.io

https://blog.naver.com/PostView.nhn?isHttpsRedirect=true&blogId=alice_k106&logNo=221190043948&redirect=Dlog&widgetTypeCall=true&directAccess=false

124. [Network] 포워드 프록시와 리버스 프록시의 차이점
     이번 포스트에서는 포워드 프록시와 리버스 프록시의 차이점에 대해서 다룬다. 언젠가 한번 개념을 정리하...

blog.naver.com

https://hiseon.me/linux/ubuntu/ubuntu-proxy-setting/

우분투 프록시 서버 구축 - HiSEON
우분투 프록시 설정 방법 우분투 환경에서 프록시(Proxy) 서버 구축 방법에 대해 설명드립니다. Forward Proxy 서버와 Reverse Proxy 서버 개념에 대해서 설명 드리며, Apache를 이용하여 프록시 서버 설정 방법에 대해서 함께 설명드립니다.

hiseon.me

https://www.youtube.com/watch?v=YxwYhenZ3BE
